(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-78a9ee23"],{"3f55":function(t,e,n){},"65ba":function(t,e,n){"use strict";var l=n("3f55"),a=n.n(l);a.a},d16d:function(t,e,n){"use strict";n.r(e);var l=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"Login-box"},[t._m(0),n("van-form",{on:{submit:t.onSubmit}},[t._l(t.lwh_value,(function(e,l){return n("div",{key:l,staticClass:"lwh_input"},["checkbox"===e.txt?n("input",{directives:[{name:"model",rawName:"v-model",value:e.cont,expression:"item.cont"}],class:{lwh_valueIndex:l==t.lwh_valueIndex},attrs:{placeholder:e.place,type:"checkbox"},domProps:{checked:Array.isArray(e.cont)?t._i(e.cont,null)>-1:e.cont},on:{focus:function(e){return t.lwh_focus(l)},blur:function(e){return t.lwh_blur()},change:function(n){var l=e.cont,a=n.target,s=!!a.checked;if(Array.isArray(l)){var o=null,i=t._i(l,o);a.checked?i<0&&t.$set(e,"cont",l.concat([o])):i>-1&&t.$set(e,"cont",l.slice(0,i).concat(l.slice(i+1)))}else t.$set(e,"cont",s)}}}):"radio"===e.txt?n("input",{directives:[{name:"model",rawName:"v-model",value:e.cont,expression:"item.cont"}],class:{lwh_valueIndex:l==t.lwh_valueIndex},attrs:{placeholder:e.place,type:"radio"},domProps:{checked:t._q(e.cont,null)},on:{focus:function(e){return t.lwh_focus(l)},blur:function(e){return t.lwh_blur()},change:function(n){return t.$set(e,"cont",null)}}}):n("input",{directives:[{name:"model",rawName:"v-model",value:e.cont,expression:"item.cont"}],class:{lwh_valueIndex:l==t.lwh_valueIndex},attrs:{placeholder:e.place,type:e.txt},domProps:{value:e.cont},on:{focus:function(e){return t.lwh_focus(l)},blur:function(e){return t.lwh_blur()},input:function(n){n.target.composing||t.$set(e,"cont",n.target.value)}}}),0==l&&t.lwh_flag?n("span",{on:{click:function(e){return t.lwh_span_veify()}}},[t._v("获取验证码")]):t._e(),0!=l||t.lwh_flag?t._e():n("p",[t._v("获取验证码("+t._s(t.lwh_time)+")")])])})),n("div",{staticClass:"vnt-text"},[n("span",[t._v("*未注册的手机号将自动注册")]),n("span",{on:{click:t.add}},[t._v("密码登录")])]),n("div",{staticStyle:{margin:"16px"}},[n("van-button",{attrs:{round:"",block:"",type:"info","native-type":"submit",color:"linear-gradient(to right, rgb(255, 146, 71),rgb(253, 88, 3))"},on:{click:t.lwh_login}},[t._v(" 登录 ")])],1)],2)],1)},a=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"Login-img"},[n("img",{attrs:{src:"https://msmk2019.oss-cn-shanghai.aliyuncs.com/uploads/image/2019pILfAg7Avr1567732916.png",alt:""}})])}],s=n("d399"),o={data(){return{lwh_value:[{cont:"",txt:"text",type:"name",place:"请输入手机号"},{cont:"",txt:"text",type:"pass",place:"请输入短信验证码"}],lwh_valueIndex:null,lwh_flag:!0,lwh_time:59,acs:null}},methods:{onSubmit(t){console.log("submit",t)},add(){this.$router.push({path:"/Wyl-Login"})},lwh_focus(t){this.lwh_valueIndex=t},lwh_blur(){this.lwh_valueIndex=null},async lwh_span_veify(){if(/^1[3456789]d{9}$/.test(this.lwh_value[0].cont))return Object(s["a"])("手机号格式错误"),!1;this.acs=setInterval(()=>{this.lwh_time--,0==this.lwh_time&&(this.lwh_time=59,this.lwh_flag=!this.lwh_flag,clearInterval(this.acs))},1e3),this.lwh_flag=!this.lwh_flag;let{data:t}=await this.$http.post("/api/app/smsCode",{mobile:this.lwh_value[0].cont,sms_type:"login"});if(200!=t.code)return Object(s["a"])(t.msg);console.log(t)},async lwh_login(){let{data:t}=await this.$http.post("/api/app/login",{mobile:this.lwh_value[0].cont,sms_code:this.lwh_value[1].cont,client:1,type:2});if(200!=t.code)return Object(s["a"])(t.msg);1==t.data.is_new?(Object(s["a"])(t.msg),this.$router.push("/lwh_pass"),this.$store.commit("lwh_saveBtn",{type:"昵称",value:t.data.nickname})):(Object(s["a"])(t.msg),this.$router.push({path:"/lwh_my",query:"nickname"})),window.sessionStorage.setItem("token",t.data.remember_token)}}},i=o,c=(n("65ba"),n("2877")),r=Object(c["a"])(i,l,a,!1,null,"aa145eda",null);e["default"]=r.exports}}]);
//# sourceMappingURL=chunk-78a9ee23.10eb6f30.js.map